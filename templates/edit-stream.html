{% extends 'layout.html' %}


{% block content %}
<div id="media-management" class="container">
  <form
    {% if stream %}
    action="{{url_for('stream-edit', spk=stream.pk)}}"
    {% endif %}
    id="edit-stream"
    data-csrf="{{csrf_tokens.streams}}"
    method="POST"
    name="edit-stream"
    >
    {% if error %}
      <div class="alert alert-danger" role="alert">{{error}}</div>
    {% endif %}
    {% for field in fields %}
    <div class="form-group">
      <label for="stream-{{field.name}}">{{field.title}}:</label>
      <input
        class="form-control"
        type="text"
        name="{{field.name}}"
        id="stream-{{field.name}}"
        value="{{field.value}}"
        />
    </div>
    {% endfor %}
    <div>
      <input type="hidden" name="csrf_token" value="{{csrf_tokens.streams}}" />
      <button type="submit" class="btn btn-primary">Save Changes</button>
      <a href="{{url_for('media-list')}}" class="btn btn-warning">Cancel</a>
    </div>
  </form>
</div>
{% endblock %}

{% block scripts %}
  <div class="modal-backdrop hidden"></div>
  {{import_script("jquery-3.4.1")}}
  <script src="/js/media.js" type="text/javascript"></script>
{% endblock %}
